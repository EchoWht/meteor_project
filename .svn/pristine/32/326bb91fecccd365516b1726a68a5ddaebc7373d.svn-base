{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/templates/posts/post_item.js","filenameRelative":"/client/templates/posts/post_item.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/templates/posts/post_item.js.map","sourceFileName":"/client/templates/posts/post_item.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"post_item"},"ignored":false,"code":"Template.postItem.helpers({\n  ownPost: function () {\n    function ownPost() {\n      return this.userId === Meteor.userId();\n    }\n\n    return ownPost;\n  }(),\n  domain: function () {\n    function domain() {\n      var a = document.createElement('a');\n      a.href = this.url; //this 是模版each的遍历对象\n      return a.hostname;\n    }\n\n    return domain;\n  }(),\n  commentsCount: function () {\n    function commentsCount() {\n      return Comments.find({ postId: this._id }).count();\n    }\n\n    return commentsCount;\n  }(),\n  upvotedClass: function () {\n    function upvotedClass() {\n      var userId = Meteor.userId();\n      if (userId && !_.include(this.upvoters, userId)) {\n        return 'btn-primary upvotable';\n      } else {\n        return 'disabled';\n      }\n    }\n\n    return upvotedClass;\n  }()\n});\nTemplate.postItem.events({\n  'click .upvote': function () {\n    function clickUpvote(e) {\n      e.preventDefault();\n      Meteor.call('upvote', this._id);\n    }\n\n    return clickUpvote;\n  }()\n});","ast":null,"map":{"version":3,"sources":["/client/templates/posts/post_item.js"],"names":[],"mappings":"AAAA,SAAS,QAAT,CAAkB,OAAlB,CAA0B;AACxB;AAAS,uBAAW;AAClB,aAAO,KAAK,MAAL,KAAgB,OAAO,MAAP,EAAhB,CADW;KAAX;;;KAAT;AAGA;AAAQ,sBAAW;AACjB,UAAI,IAAI,SAAS,aAAT,CAAuB,GAAvB,CAAJ,CADa;AAEjB,QAAE,IAAF,GAAS,KAAK,GAAL;AAFQ,aAGV,EAAE,QAAF,CAHU;KAAX;;;KAAR;AAKA;AAAe,6BAAW;AACxB,aAAO,SAAS,IAAT,CAAc,EAAC,QAAQ,KAAK,GAAL,EAAvB,EAAkC,KAAlC,EAAP,CADwB;KAAX;;;KAAf;AAGA;AAAc,4BAAW;AACvB,UAAI,SAAS,OAAO,MAAP,EAAT,CADmB;AAEvB,UAAI,UAAU,CAAC,EAAE,OAAF,CAAU,KAAK,QAAL,EAAe,MAAzB,CAAD,EAAmC;AAC/C,eAAO,uBAAP,CAD+C;OAAjD,MAEO;AACL,eAAO,UAAP,CADK;OAFP;KAFY;;;KAAd;CAZF;AAqBA,SAAS,QAAT,CAAkB,MAAlB,CAAyB;AACvB;AAAiB,yBAAS,CAAT,EAAY;AAC3B,QAAE,cAAF,GAD2B;AAE3B,aAAO,IAAP,CAAY,QAAZ,EAAsB,KAAK,GAAL,CAAtB,CAF2B;KAAZ;;;KAAjB;CADF","file":"/client/templates/posts/post_item.js.map","sourcesContent":["Template.postItem.helpers({\n  ownPost: function() {\n    return this.userId === Meteor.userId();\n  },\n  domain: function() {\n    var a = document.createElement('a');\n    a.href = this.url;//this 是模版each的遍历对象\n    return a.hostname;\n  },\n  commentsCount: function() {\n    return Comments.find({postId: this._id}).count();\n  },\n  upvotedClass: function() {\n    var userId = Meteor.userId();\n    if (userId && !_.include(this.upvoters, userId)) {\n      return 'btn-primary upvotable';\n    } else {\n      return 'disabled';\n    }\n  }\n});\nTemplate.postItem.events({\n  'click .upvote': function(e) {\n    e.preventDefault();\n    Meteor.call('upvote', this._id);\n  }\n});\n"]},"hash":"12100d94699a15ecc2b80d34cae3c77ebddc796d"}
