{"version":3,"sources":["meteor://üíªapp/client/templates/application/template.layout.js","meteor://üíªapp/client/templates/application/template.not_found.js","meteor://üíªapp/client/templates/includes/template.access_denied.js","meteor://üíªapp/client/templates/includes/template.header.js","meteor://üíªapp/client/templates/includes/template.loading.js","meteor://üíªapp/client/templates/posts/template.post_item.js","meteor://üíªapp/client/templates/posts/template.post_list.js","meteor://üíªapp/client/templates/posts/template.post_page.js","meteor://üíªapp/client/templates/posts/template.post_submit.js","meteor://üíªapp/client/templates/posts/post_item.js","meteor://üíªapp/client/templates/posts/post_list.js","meteor://üíªapp/client/templates/posts/post_submit.js","meteor://üíªapp/lib/router.js","meteor://üíªapp/collections/posts.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uG;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uG;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uG;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uG;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACNA,SAAS,QAAT,CAAkB,OAAlB,CAA0B;AACxB;AAAQ,sBAAW;AACjB,UAAI,IAAI,SAAS,aAAT,CAAuB,GAAvB,CAAJ,CADa;AAEjB,QAAE,IAAF,GAAS,KAAK,GAAL;AAFQ,aAGV,EAAE,QAAF,CAHU;KAAX;;;KAAR;CADF,mG;;;;;;;;;;;ACAA,SAAS,SAAT,CAAmB,OAAnB,CAA2B;AACzB;AAAO,qBAAW;AAChB,aAAO,MAAM,IAAN,EAAP,CADgB;KAAX;;;KAAP;CADF,mG;;;;;;;;;;;;;;ACGA,SAAS,UAAT,CAAoB,MAApB,CAA2B;AACvB;AAAe,4BAAS,CAAT,EAAY;AACvB,cAAE,cAAF,GADuB;;AAGvB,gBAAI,OAAO;AACP,qBAAK,EAAE,EAAE,MAAF,CAAF,CAAY,IAAZ,CAAiB,YAAjB,EAA+B,GAA/B,EAAL;AACA,uBAAO,EAAE,EAAE,MAAF,CAAF,CAAY,IAAZ,CAAiB,cAAjB,EAAiC,GAAjC,EAAP;aAFA,CAHmB;;AAQvB,mBAAO,IAAP,CAAY,YAAZ,EAA0B,IAA1B,EAAgC,UAAS,KAAT,EAAgB,MAAhB,EAAwB;;AAEpD,oBAAI,KAAJ,EACI,OAAO,MAAM,MAAM,MAAN,CAAb,CADJ;;;;AAFoD,sBAOpD,CAAO,EAAP,CAAU,UAAV,EAAsB,EAAC,KAAK,OAAO,GAAP,EAA5B,EAPoD;aAAxB,CAAhC,CARuB;SAAZ;;;OAAf;CADJ,mG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA,OAAO,SAAP,CAAiB;AACf,kBAAgB,QAAhB;AACA,mBAAiB,SAAjB;AACA,oBAAkB,UAAlB;AACA;AAAQ,sBAAW;AAAE,aAAO,OAAO,SAAP,CAAiB,OAAjB,CAAP,CAAF;KAAX;;;KAAR;CAJF;;AAOA,OAAO,KAAP,CAAa,GAAb,EAAkB,EAAC,MAAM,WAAN,EAAnB;AACA,OAAO,KAAP,CAAa,aAAb,EAA4B;AAC1B,QAAM,UAAN;AACA;AAAM,oBAAW;AACf,aAAO,MAAM,OAAN,CAAc,KAAK,MAAL,CAAY,GAAZ,CAArB,CADe;KAAX;;;KAAN;CAFF;AAKA,OAAO,KAAP,CAAa,SAAb,EAAwB,EAAC,MAAM,YAAN,EAAzB;;AAEA,IAAI,eAAe,SAAf,YAAe,GAAW;AAC5B,MAAI,CAAE,OAAO,IAAP,EAAF,EAAiB;AACnB,SAAK,MAAL,CAAY,cAAZ,EADmB;AAEnB,QAAI,OAAO,SAAP,EAAJ,EAAwB;AACtB,WAAK,MAAL,CAAY,KAAK,eAAL,CAAZ,CADsB;KAAxB,MAEO;AACL,WAAK,MAAL,CAAY,cAAZ,EADK;KAFP;GAFF,MAOO;AACL,SAAK,IAAL,GADK;GAPP;CADiB;;AAanB,OAAO,cAAP,CAAsB,cAAtB,EAAsC,EAAC,MAAM,UAAN,EAAvC;AACA,OAAO,cAAP,CAAsB,YAAtB,EAAoC,EAAC,MAAM,YAAN,EAArC,6C;;;;;;;;;;;AC7BA,QAAQ,IAAI,MAAM,UAAN,CAAiB,OAArB,CAAR;AACA,OAAO,OAAP,CAAe;AACX;AAAY,4BAAS,cAAT,EAAyB;AACjC,kBAAM,OAAO,MAAP,EAAN,EAAuB,MAAvB,EADiC;AAEjC,kBAAM,cAAN,EAAsB;AAClB,uBAAO,MAAP;AACA,qBAAK,MAAL;aAFJ,EAFiC;AAMjC,gBAAI,OAAO,OAAO,IAAP,EAAP,CAN6B;AAOjC,gBAAI,OAAO,EAAE,MAAF,CAAS,cAAT,EAAyB;AAChC,wBAAQ,KAAK,GAAL;AACR,wBAAQ,KAAK,QAAL;AACR,2BAAW,IAAI,IAAJ,EAAX;aAHO,CAAP,CAP6B;AAYjC,gBAAI,SAAS,MAAM,MAAN,CAAa,IAAb,CAAT,CAZ6B;AAajC,mBAAO;AACH,qBAAK,MAAL;aADJ,CAbiC;SAAzB;;;OAAZ;CADJ,mG","file":"/app.js","sourcesContent":["\nTemplate.__checkName(\"layout\");\nTemplate[\"layout\"] = new Template(\"Template.layout\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"header\")), \"\\n        \", HTML.DIV({\n    id: \"main\",\n    \"class\": \"row-fluid\"\n  }, \"\\n            \", Spacebars.include(view.lookupTemplate(\"yield\")), \"\\n        \"), \"\\n    \");\n}));\n","\nTemplate.__checkName(\"notFound\");\nTemplate[\"notFound\"] = new Template(\"Template.notFound\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"not-found jumbotron\">\\n        <h2>404</h2>\\n        <p>Sorry, we couldn\\'t find a page at this address. Êä±Ê≠âÔºåÊàë‰ª¨Êó†Ê≥ïÊâæÂà∞ËØ•È°µÈù¢„ÄÇ</p>\\n    </div>');\n}));\n","\nTemplate.__checkName(\"accessDenied\");\nTemplate[\"accessDenied\"] = new Template(\"Template.accessDenied\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"access-denied jumbotron\">\\n        <h2>Access Denied</h2>\\n        <p>You can\\'t get here! Please log in.</p>\\n    </div>');\n}));\n","\nTemplate.__checkName(\"header\");\nTemplate[\"header\"] = new Template(\"Template.header\", (function() {\n  var view = this;\n  return HTML.NAV({\n    \"class\": \"navbar navbar-default\",\n    role: \"navigation\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"navbar-header\"\n  }, \"\\n            \", HTML.Raw('<button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navigation\">\\n                <span class=\"sr-only\">Toggle navigation</span>\\n                <span class=\"icon-bar\"></span>\\n                <span class=\"icon-bar\"></span>\\n                <span class=\"icon-bar\"></span>\\n            </button>'), \"\\n            \", HTML.A({\n    \"class\": \"navbar-brand\",\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"postsList\");\n    }\n  }, \"Microscope\"), \"\\n        \"), \"\\n        \", HTML.DIV({\n    \"class\": \"collapse navbar-collapse\",\n    id: \"navigation\"\n  }, \"\\n            \", HTML.UL({\n    \"class\": \"nav navbar-nav navbar-right\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return HTML.LI(HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"postSubmit\");\n      }\n    }, \"Submit Post\"));\n  }), \"\\n            \"), \"\\n            \", HTML.UL({\n    \"class\": \"nav navbar-nav navbar-right\"\n  }, \"\\n                \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n","\nTemplate.__checkName(\"loading\");\nTemplate[\"loading\"] = new Template(\"Template.loading\", (function() {\n  var view = this;\n  return \"loading````\";\n}));\n","\nTemplate.__checkName(\"postItem\");\nTemplate[\"postItem\"] = new Template(\"Template.postItem\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"post\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"post-content\"\n  }, \"\\n      \", HTML.H3(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"url\"));\n    }\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), HTML.SPAN(Blaze.View(\"lookup:domain\", function() {\n    return Spacebars.mustache(view.lookup(\"domain\"));\n  }))), \"\\n\\n    \"), \"\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"postPage\");\n    },\n    \"class\": \"discuss btn btn-default\"\n  }, \"Discuss\"), \"\\n  \");\n}));\n","\nTemplate.__checkName(\"postsList\");\nTemplate[\"postsList\"] = new Template(\"Template.postsList\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"posts\"\n  }, \"\\n    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"posts\"));\n  }, function() {\n    return [ \"\\n      \", Spacebars.include(view.lookupTemplate(\"postItem\")), \"\\n    \" ];\n  }), \"\\n  \");\n}));\n","\nTemplate.__checkName(\"postPage\");\nTemplate[\"postPage\"] = new Template(\"Template.postPage\", (function() {\n  var view = this;\n  return Spacebars.include(view.lookupTemplate(\"postItem\"));\n}));\n","\nTemplate.__checkName(\"postSubmit\");\nTemplate[\"postSubmit\"] = new Template(\"Template.postSubmit\", (function() {\n  var view = this;\n  return HTML.Raw('<form class=\"main form\">\\n        <div class=\"form-group\">\\n            <label class=\"control-label\" for=\"url\">URL</label>\\n            <div class=\"controls\">\\n                <input name=\"url\" id=\"url\" type=\"text\" value=\"\" placeholder=\"Your URL\" class=\"form-control\">\\n            </div>\\n        </div>\\n        <div class=\"form-group\">\\n            <label class=\"control-label\" for=\"title\">Title</label>\\n            <div class=\"controls\">\\n                <input name=\"title\" id=\"title\" type=\"text\" value=\"\" placeholder=\"Name your post\" class=\"form-control\">\\n            </div>\\n        </div>\\n        <input type=\"submit\" value=\"Submit\" class=\"btn btn-primary\">\\n    </form>');\n}));\n","Template.postItem.helpers({\n  domain: function() {\n    var a = document.createElement('a');\n    a.href = this.url;//this ÊòØÊ®°ÁâàeachÁöÑÈÅçÂéÜÂØπË±°\n    return a.hostname;\n  }\n});","Template.postsList.helpers({\n  posts: function() {\n    return Posts.find();\n  }\n});","/**\r\n * Created by Administrator on 2016-06-10.\r\n */\r\nTemplate.postSubmit.events({\r\n    'submit form': function(e) {\r\n        e.preventDefault();\r\n\r\n        var post = {\r\n            url: $(e.target).find('[name=url]').val(),\r\n            title: $(e.target).find('[name=title]').val()\r\n        };\r\n\r\n        Meteor.call('postInsert', post, function(error, result) {\r\n            // ÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØÂπ∂ÈÄÄÂá∫\r\n            if (error)\r\n                return alert(error.reason);\r\n            // ÊòæÁ§∫ÁªìÊûúÔºåË∑≥ËΩ¨È°µÈù¢\r\n            // if (result.postExists)\r\n            //     alert('This link has already been postedÔºàËØ•ÈìæÊé•Â∑≤ÁªèÂ≠òÂú®Ôºâ');\r\n            Router.go('postPage', {_id: result._id});\r\n        });\r\n    }\r\n});","Router.configure({\n  layoutTemplate: 'layout',\n  loadingTemplate: 'loading',\n  notFoundTemplate: 'notFound',\n  waitOn: function() { return Meteor.subscribe('posts'); }\n});\n\nRouter.route('/', {name: 'postsList'});\nRouter.route('/posts/:_id', {\n  name: 'postPage',\n  data: function() {\n    return Posts.findOne(this.params._id);}\n});\nRouter.route('/submit', {name: 'postSubmit'});\n\nvar requireLogin = function() {\n  if (! Meteor.user()) {\n    this.render('accessDenied');\n    if (Meteor.loggingIn()) {\n      this.render(this.loadingTemplate);\n    } else {\n      this.render('accessDenied');\n    }\n  } else {\n    this.next();\n  }\n}\n// Â¶ÇÊûúÊúâ‰∫∫ËæìÂÖ•‰∫ÜÂÉè http://localhost:3000/posts/xyz ËøôÁßçÊ†ºÂºèÁöÑ URLÔºåxyz ‰∏çÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÂ∏ñÂ≠ê _id\nRouter.onBeforeAction('dataNotFound', {only: 'postPage'});\nRouter.onBeforeAction(requireLogin, {only: 'postSubmit'});","Posts = new Mongo.Collection('posts');\r\nMeteor.methods({\r\n    postInsert: function(postAttributes) {\r\n        check(Meteor.userId(), String);\r\n        check(postAttributes, {\r\n            title: String,\r\n            url: String\r\n        });\r\n        var user = Meteor.user();\r\n        var post = _.extend(postAttributes, {\r\n            userId: user._id,\r\n            author: user.username,\r\n            submitted: new Date()\r\n        });\r\n        var postId = Posts.insert(post);\r\n        return {\r\n            _id: postId\r\n        };\r\n    }\r\n});"]}